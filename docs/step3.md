# step 3

## 式の基本

Pythonで計算をするには式(expression)を使います  
足し算では 3 + 4 のように表します  
この式の3や4などの値をオペランド(operand)といいます  
+のようなどんな計算をするかを表すものを演算子(operator)といいます  
また、式を計算することを「式を評価する」と言います  
3 + 4 が評価されると 7 になります  

```python
# sample_01.py  
print("3 + 4 =", 3 + 4)
```

```text
3 + 4 = 7
```

## 演算子の種類

演算子にはいくつかの種類があります  
数学で基本的に使うものを以下に示します  

| 演算子 | 意味 |
| --- | --- |
| + | 単項プラス |
| - | 単項マイナス |
| + | 加算(足し算) |
| - | 減算(引き算) |
| * | 乗算(掛け算) |
| ** | べき乗(何乗かを表すものです) | 
| / | 除算(小数の割り算) |
| // | 切捨除算(小数点以下を切り捨てた整数の割り算) |
| % | 剰余(割り算のあまり) |

負の数を表すために用いる「-」(単項マイナス)などはオペランドを一つとる演算子です  
オペランドを一つとる演算子を単項演算子(unary operator)と呼びます  
 /(除算), //(切捨除算), %(剰余)は0で割ることはできません  

```python
# sample_02.py
print("+12 =", +12)  # 単項プラス
print("-12 =", -12)  # 単項マイナス
print("6 + 4 =", 6 + 4)  # 加算
print("6 - 4 =", 6 - 4)  # 減算
print("6 * 4 =", 6 * 4)  # 乗算
print("6 ** 4 =", 6 ** 4)  # べき乗
print("6 / 4 =", 6 / 4)  # 除算
print("6 // 4 =", 6 // 4)  # 切捨除算
print("6 % 4 =", 6 % 4)  # 剰余
```

```text
+12 = 12
-12 = -12
6 + 4 = 10
6 - 4 = 2
6 * 4 = 24
6 ** 4 = 1296
6 / 4 = 1.5
6 // 4 = 1
6 % 4 = 2
```

## 演算子の優先順位

計算で掛け算や割り算を先に計算するように演算子にも優先順位があります  
今までの演算子の優先順位を以下に示します  
上が優先順位が高い演算子です  
また、同じ行に書かれた演算子は優先順位が同じです  

| 記号 | 名前 |
| --- | --- |
| ** | べき乗 |
| +, - | 単項プラス, 単項マイナス |
| *, /, //, % | 乗算, 除算, 切捨除算, 剰余 |
| +, - | 加算, 減算 |

また、「()」(括弧)を使うことで括弧の中を優先して評価することもできます  
括弧の中に括弧を書いても構いません  

```python
# sample_03.py
print("2 + 3 * 4 =", 2 + 3 * 4)  # 3 * 4 が先に評価されます
print("(2 + 3) * 4 =", (2 + 3) * 4)  # 2 + 3 が先に評価されます
```

```text
2 + 3 * 4 = 14
(2 + 3) * 4 = 20
```

## 文字列の演算

文字列も計算することができます  
文字列 + 文字列で文字列同士を結合することができます  
文字列 * 整数で文字列を何回か繰り返すことができます  

```python
# sample_04.py
print("\"Hello \" + \"World\" =", "Hello " + "World")  # 文字列同士の加算
print("\"Hello \" * 3 =", "Hello " * 3)  # 文字列と整数の乗算
```

```text
"Hello " + "World" = Hello World
"Hello " * 3 = Hello Hello Hello
```

## 変数を利用した式

式の中に変数を入れることができます  
式の評価された後を変数へ代入することもできます  

```python
# sample_05.py
num1 = 3
num2 = 4
print("変数num1は", num1, "です")
print("変数num2は", num2, "です")
num3 = num1 + num2  # num1 + num2の結果をnum3へ代入しています
print("変数num3にnum1 + num2を代入しました")
print("変数num3は", num3, "です")
```

```text
変数num1は 3 です
変数num2は 4 です
変数num3にnum1 + num2を代入しました
変数num3は 7 です
```

## 代入演算子

変数に値を代入する「=」などの演算子を代入演算子(assignment operator)と言います  
代入演算子には次のようなものがあります  

| 代入演算子 | 名前 |
| --- | --- |
| = | 代入(通常) |
| += | 加算代入(加算) |
| -= | 減算代入(減算) |
| *= |乗算代入(乗算) |
| **= | 累乗代入(べき乗) |
| /= | 除算代入(除算) |
| //= | 切捨徐算代入(切捨徐算) |
| %= | 剰余代入(剰余) |

「+=」などの代入演算子は演算子と=の間にスペースがあると別の演算子と解釈され、動かないので注意してください  
また、優先順位はもっとも低いです  

```python
# sample_06.py
num1 = 4
num2 = 3
print("変数num1は", num1, "です")
print("変数num2は", num2, "です")
num1 += num2  # num1 = num1 + num2 と同じです
print("変数num1にnum2を加算代入しました")
print("変数num1は", num1, "です")
```

```text
変数num1は 4 です
変数num2は 3 です
変数num1にnum2を加算代入しました
変数num1は 7 です
```

## 異なる式の計算

inputで入力した数字は文字列として扱われるのでそのまま加算しようとすると文字列の結合になってしまいます  
それを防ぐためにキャスト(cast)を行う必要があります  
キャストは 変換先(値) という形で行います  
キャストする変換先を以下に示します  

| 関数 | 意味 |
| --- | --- |
| int() | 整数へ変換 |
| float() | 小数へ変換 |
| str() | 文字列へ変換 |

```python
# sample_07.py
num = input("数字を入力してください :")
print("num * 2 =", num * 2)
print("int(num) * 2 =", int(num) * 2)
```

```text
数字を入力してください :12
num * 2 = 1212
int(num) * 2 = 24
```
